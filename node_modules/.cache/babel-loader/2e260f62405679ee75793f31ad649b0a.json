{"ast":null,"code":"import _toConsumableArray from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/src/components/search.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as BooksAPI from \"../BooksAPI\";\nimport serializeForm from \"form-serialize\";\nimport Option from \"./options\";\n\nvar Searchpage = /*#__PURE__*/function (_Component) {\n  _inherits(Searchpage, _Component);\n\n  var _super = _createSuper(Searchpage);\n\n  function Searchpage() {\n    var _this;\n\n    _classCallCheck(this, Searchpage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      query: \"\",\n      books: []\n    };\n\n    _this.updateQuery = function (query) {\n      _this.setState({\n        query: query\n      });\n    };\n\n    _this.clearQuery = function () {\n      _this.updateQuery(\"\");\n\n      _this.setState({\n        books: []\n      });\n    };\n\n    _this.shelfCheck = function (books) {\n      var ids = [];\n      books.forEach(function (book) {\n        ids.push(book.id);\n      });\n      console.log(ids);\n      return ids;\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var query = _this.state.query;\n      var shelfBooks = _this.props.books;\n\n      var ids = _this.shelfCheck(shelfBooks);\n\n      BooksAPI.search(query).then(function (query) {\n        try {\n          query.forEach(function (book) {\n            if (ids.includes(book.id)) {\n              var index = ids.indexOf(book.id);\n              book[\"shelf\"] = shelfBooks[index].shelf;\n            }\n          });\n\n          _this.setState({\n            books: query\n          });\n        } catch (TypeError) {\n          console.log(\"error\");\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Searchpage, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevState) {\n      var _this2 = this;\n\n      if (this.state.books != prevState.books) {\n        this.onChange = function (book, event) {\n          var newOption = event.target.value;\n          var id = book.id;\n\n          var books = _toConsumableArray(_this2.state.books);\n\n          books.forEach(function (array) {\n            if (array.id === id) {\n              array[\"shelf\"] = newOption;\n            }\n          });\n\n          _this2.setState({\n            books: books\n          });\n\n          _this2.props.handleSearch(book, newOption);\n\n          BooksAPI.update(book, newOption);\n        };\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-books\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-books-bar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"close-search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, \"Close\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-books-input-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Search by title or author\",\n        value: this.state.query,\n        onChange: function onChange(event) {\n          return _this3.updateQuery(event.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"clear-search\",\n        onClick: this.clearQuery,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }\n      }, \"Clear\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-books-results\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"bookshelf-books\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-books\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-books-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"bookshelf\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"bookshelf-books\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"ol\", {\n        className: \"books-grid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }\n      }, this.state.query !== \"\" && this.state.books.map(function (book) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: book.id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"book\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"book-top\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"book-cover\",\n          style: {\n            width: 128,\n            height: 193,\n            backgroundImage: \"url(\" + book.imageLinks.thumbnail + \")\"\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"book-shelf-changer\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"select\", {\n          key: book.id,\n          id: book.id,\n          value: book.shelf ? book.shelf : \"none\",\n          selected: book.shelf ? book.shelf : \"none\",\n          onChange: function onChange(event) {\n            return _this3.onChange(book, event);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(Option, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 37\n          }\n        })))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"book-title\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 31\n          }\n        }, book.title), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"book-authors\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 31\n          }\n        }, book.authors)));\n      })))))))));\n    }\n  }]);\n\n  return Searchpage;\n}(Component);\n\nexport default Searchpage;\n/*\n\nonChange = (book, event) => {\n    const newOption = event.target.value;\n    const id = book.id;\n    const shelfBooks = this.props.books;\n    const ids = this.shelfCheck(shelfBooks);\n    const books = [...this.state.books];\n    if (ids.includes(book.id)) {\n      const index = books.indexOf(book.id);\n      books[index][\"shelf\"] = newOption;\n    } else {\n      books.forEach((array) => {\n        if (array.id === id) {\n          array[\"shelf\"] = newOption;\n        }\n      });\n    }\n    this.setState({\n      books: books,\n    });\n    this.props.handleSearch(book, newOption);\n    BooksAPI.update(book, newOption);\n  };\n\n\n  */","map":{"version":3,"sources":["/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/src/components/search.js"],"names":["React","Component","Link","BooksAPI","serializeForm","Option","Searchpage","state","query","books","updateQuery","setState","clearQuery","shelfCheck","ids","forEach","book","push","id","console","log","handleSubmit","event","preventDefault","shelfBooks","props","search","then","includes","index","indexOf","shelf","TypeError","prevState","onChange","newOption","target","value","array","handleSearch","update","map","width","height","backgroundImage","imageLinks","thumbnail","title","authors"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as BooksAPI from \"../BooksAPI\";\nimport serializeForm from \"form-serialize\";\nimport Option from \"./options\";\n\nclass Searchpage extends Component {\n  state = {\n    query: \"\",\n    books: [],\n  };\n\n  updateQuery = (query) => {\n    this.setState({\n      query: query,\n    });\n  };\n\n  clearQuery = () => {\n    this.updateQuery(\"\");\n    this.setState({\n      books: [],\n    });\n  };\n\n  /* enumerating ids in the home state's books so we can check if \n  search result has books already on our shelf*/\n  shelfCheck = (books) => {\n    const ids = [];\n    books.forEach((book) => {\n      ids.push(book.id);\n    });\n    console.log(ids);\n    return ids;\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const query = this.state.query;\n    const shelfBooks = this.props.books;\n    const ids = this.shelfCheck(shelfBooks);\n    BooksAPI.search(query).then((query) => {\n      try {\n        query.forEach((book) => {\n          if (ids.includes(book.id)) {\n            const index = ids.indexOf(book.id);\n            book[\"shelf\"] = shelfBooks[index].shelf;\n          }\n        });\n        this.setState({\n          books: query,\n        });\n      } catch (TypeError) {\n        console.log(\"error\");\n      }\n    });\n  };\n\n  componentDidUpdate(prevState) {\n    if (this.state.books != prevState.books) {\n      this.onChange = (book, event) => {\n        const newOption = event.target.value;\n        const id = book.id;\n        const books = [...this.state.books];\n        books.forEach((array) => {\n          if (array.id === id) {\n            array[\"shelf\"] = newOption;\n          }\n        });\n        this.setState({\n          books: books,\n        });\n        this.props.handleSearch(book, newOption);\n        BooksAPI.update(book, newOption);\n      };\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"search-books\">\n        <div className=\"search-books-bar\">\n          <Link to=\"/\">\n            <button className=\"close-search\">Close</button>\n          </Link>\n          <div className=\"search-books-input-wrapper\">\n            <form onSubmit={this.handleSubmit}>\n              <input\n                type=\"text\"\n                placeholder=\"Search by title or author\"\n                value={this.state.query}\n                onChange={(event) => this.updateQuery(event.target.value)}\n              />\n            </form>\n          </div>\n          <button className=\"clear-search\" onClick={this.clearQuery}>\n            Clear\n          </button>\n        </div>\n        <div className=\"search-books-results\">\n          <div className=\"bookshelf-books\">\n            <div className=\"list-books\">\n              <div className=\"list-books-content\">\n                <div className=\"bookshelf\">\n                  <div className=\"bookshelf-books\">\n                    <ol className=\"books-grid\">\n                      {this.state.query !== \"\" &&\n                        this.state.books.map((book) => (\n                          <li key={book.id}>\n                            <div className=\"book\">\n                              <div className=\"book-top\">\n                                <div\n                                  className=\"book-cover\"\n                                  style={{\n                                    width: 128,\n                                    height: 193,\n                                    backgroundImage:\n                                      \"url(\" + book.imageLinks.thumbnail + \")\",\n                                  }}\n                                ></div>\n                                <div className=\"book-shelf-changer\">\n                                  <select\n                                    key={book.id}\n                                    id={book.id}\n                                    value={book.shelf ? book.shelf : \"none\"}\n                                    selected={book.shelf ? book.shelf : \"none\"}\n                                    onChange={(event) =>\n                                      this.onChange(book, event)\n                                    }\n                                  >\n                                    <Option />\n                                  </select>\n                                </div>\n                              </div>\n                              <div className=\"book-title\">{book.title}</div>\n                              <div className=\"book-authors\">{book.authors}</div>\n                            </div>\n                          </li>\n                        ))}\n                    </ol>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Searchpage;\n\n/*\n\nonChange = (book, event) => {\n    const newOption = event.target.value;\n    const id = book.id;\n    const shelfBooks = this.props.books;\n    const ids = this.shelfCheck(shelfBooks);\n    const books = [...this.state.books];\n    if (ids.includes(book.id)) {\n      const index = books.indexOf(book.id);\n      books[index][\"shelf\"] = newOption;\n    } else {\n      books.forEach((array) => {\n        if (array.id === id) {\n          array[\"shelf\"] = newOption;\n        }\n      });\n    }\n    this.setState({\n      books: books,\n    });\n    this.props.handleSearch(book, newOption);\n    BooksAPI.update(book, newOption);\n  };\n\n\n  */\n"]},"metadata":{},"sourceType":"module"}