{"ast":null,"code":"import _classCallCheck from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/src/components/search.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as BooksAPI from \"../BooksAPI\";\nimport serializeForm from \"form-serialize\";\nimport Option from \"./options\";\n\nvar Searchpage = /*#__PURE__*/function (_Component) {\n  _inherits(Searchpage, _Component);\n\n  var _super = _createSuper(Searchpage);\n\n  function Searchpage() {\n    var _this;\n\n    _classCallCheck(this, Searchpage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      query: \"\",\n      books: []\n    };\n\n    _this.updateQuery = function (query) {\n      _this.setState({\n        query: query.trim()\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      console.log(_this.state.query);\n\n      _this.updateQuery(_this.state.query);\n\n      _this.fetchSearch(_this.state.query);\n    };\n\n    _this.fetchSearch = function (query) {\n      BooksAPI.search(query).then(function (query) {\n        _this.setState(function (prevState) {\n          return {\n            books: prevState.books.concat([query])\n          };\n        });\n      });\n      console.log(_this.state);\n    };\n\n    return _this;\n  }\n\n  _createClass(Searchpage, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-books\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-books-bar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"close-search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }\n      }, \"Close\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-books-input-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Search by title or author\",\n        value: this.state.query,\n        onChange: function onChange(event) {\n          return _this2.updateQuery(event.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"search-books-results\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"bookshelf-books\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"ol\", {\n        className: \"books-grid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }), this.state.books.forEach(function (item) {\n        return item.map(function (book) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: book.id,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"book\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"book-top\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"book-cover\",\n            style: {\n              width: 128,\n              height: 193,\n              backgroundImage: \"url(\" + book.imageLinks + \")\"\n            },\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 23\n            }\n          }), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"book-shelf-changer\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(\"select\", {\n            key: book.id,\n            id: book.id,\n            value: \"none\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(Option, {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 27\n            }\n          })))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"book-title\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 21\n            }\n          }, book.title), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"book-authors\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 21\n            }\n          }, book.authors)));\n        });\n      }))));\n    }\n  }]);\n\n  return Searchpage;\n}(Component);\n\nexport default Searchpage;","map":{"version":3,"sources":["/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/src/components/search.js"],"names":["React","Component","Link","BooksAPI","serializeForm","Option","Searchpage","state","query","books","updateQuery","setState","trim","handleSubmit","event","preventDefault","console","log","fetchSearch","search","then","prevState","concat","target","value","forEach","item","map","book","id","width","height","backgroundImage","imageLinks","title","authors"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as BooksAPI from \"../BooksAPI\";\nimport serializeForm from \"form-serialize\";\nimport Option from \"./options\";\n\nclass Searchpage extends Component {\n  state = {\n    query: \"\",\n    books: [],\n  };\n\n  /*\n  componentDidMount() {\n    BooksAPI.getAll().then((books) => {\n      this.setState(() => ({\n        books,\n      }));\n    });\n  }\n*/\n  updateQuery = (query) => {\n    this.setState({\n      query: query.trim(),\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(this.state.query);\n    this.updateQuery(this.state.query);\n    this.fetchSearch(this.state.query);\n  };\n\n  fetchSearch = (query) => {\n    BooksAPI.search(query).then((query) => {\n      this.setState((prevState) => ({\n        books: prevState.books.concat([query]),\n      }));\n    });\n    console.log(this.state);\n  };\n\n  render() {\n    return (\n      <div className=\"search-books\">\n        <div className=\"search-books-bar\">\n          <Link to=\"/\">\n            <button className=\"close-search\">Close</button>\n          </Link>\n          <div className=\"search-books-input-wrapper\">\n            <form onSubmit={this.handleSubmit}>\n              <input\n                type=\"text\"\n                placeholder=\"Search by title or author\"\n                value={this.state.query}\n                onChange={(event) => this.updateQuery(event.target.value)}\n              />\n            </form>\n          </div>\n        </div>\n        <div className=\"search-books-results\">\n          <div className=\"bookshelf-books\">\n            <ol className=\"books-grid\" />\n            {this.state.books.forEach((item) =>\n              item.map((book) => (\n                <li key={book.id}>\n                  <div className=\"book\">\n                    <div className=\"book-top\">\n                      <div\n                        className=\"book-cover\"\n                        style={{\n                          width: 128,\n                          height: 193,\n                          backgroundImage: \"url(\" + book.imageLinks + \")\",\n                        }}\n                      ></div>\n                      <div className=\"book-shelf-changer\">\n                        <select key={book.id} id={book.id} value=\"none\">\n                          <Option />\n                        </select>\n                      </div>\n                    </div>\n                    <div className=\"book-title\">{book.title}</div>\n                    <div className=\"book-authors\">{book.authors}</div>\n                  </div>\n                </li>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Searchpage;\n"]},"metadata":{},"sourceType":"module"}