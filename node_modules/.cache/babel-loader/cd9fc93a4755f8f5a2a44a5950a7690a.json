{"ast":null,"code":"import _toConsumableArray from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/src/App.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport Currentlyreading from \"./components/currently\";\nimport WantToRead from \"./components/wantto\";\nimport Read from \"./components/read\";\nimport { Route } from \"./src/react-router-dom\";\nimport { Link } from \"./src/react-router-dom\";\nimport Searchpage from \"./components/search\";\nimport * as BooksAPI from \"./BooksAPI\";\n\nvar BooksApp = /*#__PURE__*/function (_React$Component) {\n  _inherits(BooksApp, _React$Component);\n\n  var _super = _createSuper(BooksApp);\n\n  function BooksApp() {\n    var _this;\n\n    _classCallCheck(this, BooksApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      books: []\n    };\n\n    _this.handleChange = function (book, newOption) {\n      var id = book.id;\n\n      var books = _toConsumableArray(_this.state.books);\n\n      books.forEach(function (array) {\n        if (array.id === id) {\n          array[\"shelf\"] = newOption;\n        }\n      });\n\n      _this.setState({\n        books: books\n      });\n\n      BooksAPI.update(book, newOption);\n    };\n\n    _this.shelfCheck = function (books) {\n      var ids = [];\n      books.forEach(function (book) {\n        ids.push(book.id);\n      });\n      return ids;\n    };\n\n    _this.handleSearch = function (book, newOption) {\n      var books = _toConsumableArray(_this.state.books);\n\n      var ids = _this.shelfCheck(books);\n\n      if (ids.includes(book.id)) {\n        books.forEach(function (array) {\n          if (array.id === book.id) {\n            array[\"shelf\"] = newOption;\n          }\n        });\n\n        _this.setState({\n          books: books\n        });\n      } else {\n        book[\"shelf\"] = newOption;\n\n        _this.setState(function (prevState) {\n          return {\n            books: [].concat(_toConsumableArray(prevState.books), [book])\n          };\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(BooksApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      BooksAPI.getAll().then(function (books) {\n        _this2.setState({\n          books: books\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"list-books\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"list-books-title\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"h1\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }\n          }, \"MyReads\")), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"list-books-content\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"bookshelf\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Currentlyreading, {\n            handleChange: _this3.handleChange,\n            books: _this3.state.books,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }\n          })), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"bookshelf\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(WantToRead, {\n            handleChange: _this3.handleChange,\n            books: _this3.state.books,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }\n          })), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"bookshelf\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(Read, {\n            handleChange: _this3.handleChange,\n            books: _this3.state.books,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 21\n            }\n          })))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"open-search\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Link, {\n            to: \"/search\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 19\n            }\n          }, \"Search\"))));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/search\",\n        render: function render() {\n          return /*#__PURE__*/React.createElement(Searchpage, {\n            handleChange: _this3.handleChange,\n            handleSearch: _this3.handleSearch,\n            shelfCheck: _this3.shelfCheck,\n            books: _this3.state.books,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 13\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return BooksApp;\n}(React.Component);\n\nexport default BooksApp;","map":{"version":3,"sources":["/Users/clarencetee/Documents/PERSONAL/Programming/react/myreads/reactnd-project-myreads-starter/src/App.js"],"names":["React","Currentlyreading","WantToRead","Read","Route","Link","Searchpage","BooksAPI","BooksApp","state","books","handleChange","book","newOption","id","forEach","array","setState","update","shelfCheck","ids","push","handleSearch","includes","prevState","getAll","then","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport Currentlyreading from \"./components/currently\";\nimport WantToRead from \"./components/wantto\";\nimport Read from \"./components/read\";\nimport { Route } from \"./src/react-router-dom\";\nimport { Link } from \"./src/react-router-dom\";\nimport Searchpage from \"./components/search\";\nimport * as BooksAPI from \"./BooksAPI\";\n\nclass BooksApp extends React.Component {\n  state = {\n    books: [],\n  };\n\n  componentDidMount() {\n    BooksAPI.getAll().then((books) => {\n      this.setState({\n        books: books,\n      });\n    });\n  }\n\n  handleChange = (book, newOption) => {\n    const id = book.id;\n    const books = [...this.state.books];\n    books.forEach((array) => {\n      if (array.id === id) {\n        array[\"shelf\"] = newOption;\n      }\n    });\n    this.setState({ books: books });\n    BooksAPI.update(book, newOption);\n  };\n\n  /* enumerating ids in the home state's books so we can check if \n  search result has books already on our shelf*/\n  shelfCheck = (books) => {\n    const ids = [];\n    books.forEach((book) => {\n      ids.push(book.id);\n    });\n    return ids;\n  };\n\n  handleSearch = (book, newOption) => {\n    const books = [...this.state.books];\n    const ids = this.shelfCheck(books);\n    if (ids.includes(book.id)) {\n      books.forEach((array) => {\n        if (array.id === book.id) {\n          array[\"shelf\"] = newOption;\n        }\n      });\n      this.setState({\n        books: books,\n      });\n    } else {\n      book[\"shelf\"] = newOption;\n      this.setState((prevState) => ({\n        books: [...prevState.books, book],\n      }));\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"app\">\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            <div className=\"list-books\">\n              <div className=\"list-books-title\">\n                <h1>MyReads</h1>\n              </div>\n              <div className=\"list-books-content\">\n                <div>\n                  <div className=\"bookshelf\">\n                    <Currentlyreading\n                      handleChange={this.handleChange}\n                      books={this.state.books}\n                    />\n                  </div>\n\n                  <div className=\"bookshelf\">\n                    <WantToRead\n                      handleChange={this.handleChange}\n                      books={this.state.books}\n                    />\n                  </div>\n                  <div className=\"bookshelf\">\n                    <Read\n                      handleChange={this.handleChange}\n                      books={this.state.books}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"open-search\">\n                <Link to=\"/search\">\n                  <button>Search</button>\n                </Link>\n              </div>\n            </div>\n          )}\n        />\n        <Route\n          path=\"/search\"\n          render={() => (\n            <Searchpage\n              handleChange={this.handleChange}\n              handleSearch={this.handleSearch}\n              shelfCheck={this.shelfCheck}\n              books={this.state.books}\n            />\n          )}\n        />\n      </div>\n    );\n  }\n}\n\nexport default BooksApp;\n"]},"metadata":{},"sourceType":"module"}